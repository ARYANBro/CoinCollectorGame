[gd_scene load_steps=13 format=2]

[ext_resource path="res://Assets/Orange.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scripts/Orange.cs" type="Script" id=2]
[ext_resource path="res://Scripts/GameRule.cs" type="Script" id=3]
[ext_resource path="res://Assets/Coin.tscn" type="PackedScene" id=4]
[ext_resource path="res://Assets/YouWinMenue.tscn" type="PackedScene" id=5]
[ext_resource path="res://Assets/Enemy.tscn" type="PackedScene" id=6]
[ext_resource path="res://Assets/GameOverMenue.tscn" type="PackedScene" id=7]
[ext_resource path="res://Assets/BricksMeshLibrary.tres" type="MeshLibrary" id=8]
[ext_resource path="res://Assets/CoinHud.tscn" type="PackedScene" id=9]

[sub_resource type="BoxShape" id=1]
extents = Vector3( 1, 0.001, 1 )

[sub_resource type="PlaneMesh" id=2]

[sub_resource type="SpatialMaterial" id=3]
albedo_color = Color( 1, 0.494118, 0, 1 )
roughness = 0.7

[node name="Level" type="Node"]
script = ExtResource( 3 )

[node name="Orange" type="Node" parent="."]

[node name="OrangeKinematic" parent="Orange" instance=ExtResource( 1 )]
transform = Transform( 1, 5.96046e-08, 0, -2.98023e-08, 1, -2.98023e-08, -2.98023e-08, -2.98023e-08, 1, -1.43051e-06, 1, 2.38419e-07 )
script = ExtResource( 2 )

[node name="CameraTarget" type="Position3D" parent="Orange/OrangeKinematic"]
transform = Transform( 1, 7.98551e-09, -2.98023e-08, -1.09084e-08, 0.866025, 0.5, 1.88939e-08, -0.5, 0.866025, -4.17232e-07, 7, 8 )

[node name="InterpolatedCamera" type="InterpolatedCamera" parent="Orange"]
transform = Transform( 1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 10, 10 )
target = NodePath("../OrangeKinematic/CameraTarget")
speed = 5.0
enabled = true

[node name="Enviornment" type="Node" parent="."]

[node name="Floor" type="StaticBody" parent="Enviornment"]
transform = Transform( 15, 0, 0, 0, 1, 0, 0, 0, 15, 0, 0.2, 0 )

[node name="CollisionShape" type="CollisionShape" parent="Enviornment/Floor"]
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="Enviornment/Floor"]
mesh = SubResource( 2 )
material/0 = SubResource( 3 )

[node name="Walls" type="GridMap" parent="Enviornment"]
transform = Transform( 0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, -0.0489206, 0.0271745, -0.0882177 )
mesh_library = ExtResource( 8 )
cell_size = Vector3( 2, 0.9, 2 )
cell_octant_size = 36
data = {
"cells": PoolIntArray( 65550, 0, 0, 131057, 0, 0, 65550, 1, 0, 131057, 1, 0, 65550, 2, 0, 131057, 2, 0, 65550, 3, 0, 131057, 3, 0, 65550, 4, 0, 131057, 4, 0, 65550, 5, 0, 131057, 5, 0, 65550, 6, 0, 131057, 6, 0, 65550, 7, 0, 131057, 7, 0, 65550, 8, 0, 131057, 8, 0, 65550, 9, 0, 131057, 9, 0, 65550, 10, 0, 131057, 10, 0, 65550, 11, 0, 131057, 11, 0, 65550, 12, 0, 131057, 12, 0, 65550, 13, 0, 131057, 13, 0, 65536, 14, 0, 65537, 14, 0, 65538, 14, 0, 65539, 14, 0, 65540, 14, 0, 65541, 14, 0, 65542, 14, 0, 65543, 14, 0, 65544, 14, 0, 65545, 14, 0, 65546, 14, 0, 65547, 14, 0, 65548, 14, 0, 65549, 14, 0, 65550, 14, 0, 131057, 14, 0, 131058, 14, 0, 131059, 14, 0, 131060, 14, 0, 131061, 14, 0, 131062, 14, 0, 131063, 14, 0, 131064, 14, 0, 131065, 14, 0, 131066, 14, 0, 131067, 14, 0, 131068, 14, 0, 131069, 14, 0, 131070, 14, 536870912, 131071, 14, 0, 65536, 65521, 0, 65537, 65521, 0, 65538, 65521, 0, 65539, 65521, 0, 65540, 65521, 0, 65541, 65521, 0, 65542, 65521, 0, 65543, 65521, 0, 65544, 65521, 0, 65545, 65521, 0, 65546, 65521, 0, 65547, 65521, 0, 65548, 65521, 0, 65549, 65521, 0, 65550, 65521, 0, 131057, 65521, 0, 131058, 65521, 0, 131059, 65521, 0, 131060, 65521, 0, 131061, 65521, 0, 131062, 65521, 536870912, 131063, 65521, 0, 131064, 65521, 0, 131065, 65521, 0, 131066, 65521, 0, 131067, 65521, 0, 131068, 65521, 0, 131069, 65521, 0, 131070, 65521, 0, 131071, 65521, 0, 65550, 65522, 0, 131057, 65522, 0, 65550, 65523, 0, 131057, 65523, 0, 65550, 65524, 0, 131057, 65524, 536870912, 65550, 65525, 0, 131057, 65525, 0, 65550, 65526, 0, 131057, 65526, 0, 65550, 65527, 0, 131057, 65527, 0, 65550, 65528, 0, 131057, 65528, 0, 65550, 65529, 0, 131057, 65529, 0, 65550, 65530, 0, 131057, 65530, -536870912, 65550, 65531, 0, 131057, 65531, -536870912, 65550, 65532, 0, 131057, 65532, 0, 65550, 65533, 0, 131057, 65533, 0, 65550, 65534, 0, 131057, 65534, 0, 65550, 65535, 0, 131057, 65535, 0 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 1, 0 )
}

[node name="Lights" type="Node" parent="Enviornment"]

[node name="RimLight" type="DirectionalLight" parent="Enviornment/Lights"]
transform = Transform( -0.762897, 0.163967, 0.625383, 0.560603, 0.649603, 0.513556, -0.322044, 0.742382, -0.5875, 0, 10, 0 )
light_color = Color( 0.631373, 0.74902, 0.909804, 1 )
light_energy = 0.5

[node name="MainLight" type="DirectionalLight" parent="Enviornment/Lights"]
transform = Transform( 0.762894, -0.163962, -0.625388, 0.560602, 0.649607, 0.513552, 0.322053, -0.742379, 0.587499, 0, 10, 0 )
shadow_enabled = true

[node name="Coins" type="Spatial" parent="."]

[node name="CoinHolder1" type="Spatial" parent="Coins"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 1, -1 )

[node name="Coin" parent="Coins/CoinHolder1" instance=ExtResource( 4 )]
transform = Transform( 0.999989, 0, 0, 0, 0.999989, 0, 0, 0, 0.999989, 0, 0, 0 )

[node name="CoinHolder2" type="Spatial" parent="Coins"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 1, -1 )

[node name="Coin" parent="Coins/CoinHolder2" instance=ExtResource( 4 )]
transform = Transform( 0.999989, 0, 0, 0, 0.999989, 0, 0, 0, 0.999989, 0, 0, 0 )

[node name="CoinHolder3" type="Spatial" parent="Coins"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 1, -1 )

[node name="Coin" parent="Coins/CoinHolder3" instance=ExtResource( 4 )]
transform = Transform( 0.999989, 0, 0, 0, 0.999989, 0, 0, 0, 0.999989, 0, 0, 0 )

[node name="CoinHolder4" type="Spatial" parent="Coins"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 1, -1 )

[node name="Coin" parent="Coins/CoinHolder4" instance=ExtResource( 4 )]
transform = Transform( 0.999989, 0, 0, 0, 0.999989, 0, 0, 0, 0.999989, 0, 0, 0 )

[node name="CoinHolder5" type="Spatial" parent="Coins"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 11, 1, -1 )

[node name="Coin" parent="Coins/CoinHolder5" instance=ExtResource( 4 )]
transform = Transform( 0.999989, 0, 0, 0, 0.999989, 0, 0, 0, 0.999989, 0, 0, 0 )

[node name="CoinHolder6" type="Spatial" parent="Coins"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 11, 1, 1 )

[node name="Coin" parent="Coins/CoinHolder6" instance=ExtResource( 4 )]
transform = Transform( 0.999989, 0, 0, 0, 0.999989, 0, 0, 0, 0.999989, 0, 0, 0 )

[node name="CoinHolder7" type="Spatial" parent="Coins"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 1, 1 )

[node name="Coin" parent="Coins/CoinHolder7" instance=ExtResource( 4 )]
transform = Transform( 0.999989, 0, 0, 0, 0.999989, 0, 0, 0, 0.999989, 0, 0, 0 )

[node name="CoinHolder8" type="Spatial" parent="Coins"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 1, 1 )

[node name="Coin" parent="Coins/CoinHolder8" instance=ExtResource( 4 )]
transform = Transform( 0.999989, 0, 0, 0, 0.999989, 0, 0, 0, 0.999989, 0, 0, 0 )

[node name="CoinHolder9" type="Spatial" parent="Coins"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 1, 1 )

[node name="Coin" parent="Coins/CoinHolder9" instance=ExtResource( 4 )]
transform = Transform( 0.999989, 0, 0, 0, 0.999989, 0, 0, 0, 0.999989, 0, 0, 0 )

[node name="CoinHolder10" type="Spatial" parent="Coins"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 1, 1 )

[node name="Coin" parent="Coins/CoinHolder10" instance=ExtResource( 4 )]
transform = Transform( 0.999989, 0, 0, 0, 0.999989, 0, 0, 0, 0.999989, 0, 0, 0 )

[node name="Enemies" type="Spatial" parent="."]

[node name="Enemy1" parent="Enemies" instance=ExtResource( 6 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0, 0, -6 )

[node name="Hud" type="Node" parent="."]

[node name="YouWinLabel" parent="Hud" instance=ExtResource( 5 )]

[node name="GameOverLabel" parent="Hud" instance=ExtResource( 7 )]

[node name="CoinHud" parent="Hud" instance=ExtResource( 9 )]
[connection signal="YouLoose" from="." to="Hud/GameOverLabel" method="YouLoose"]
[connection signal="YouLoose" from="." to="Orange/OrangeKinematic" method="YouLoose"]
[connection signal="YouWin" from="." to="Hud/YouWinLabel" method="YouWin"]
[connection signal="YouWin" from="." to="Orange/OrangeKinematic" method="YouWin"]
[connection signal="CoinCollected" from="Coins/CoinHolder1/Coin" to="." method="CoinCollected"]
[connection signal="CoinCollected" from="Coins/CoinHolder1/Coin" to="Hud/CoinHud" method="CoinCollected"]
[connection signal="CoinCollected" from="Coins/CoinHolder2/Coin" to="." method="CoinCollected"]
[connection signal="CoinCollected" from="Coins/CoinHolder2/Coin" to="Hud/CoinHud" method="CoinCollected"]
[connection signal="CoinCollected" from="Coins/CoinHolder3/Coin" to="." method="CoinCollected"]
[connection signal="CoinCollected" from="Coins/CoinHolder3/Coin" to="Hud/CoinHud" method="CoinCollected"]
[connection signal="CoinCollected" from="Coins/CoinHolder4/Coin" to="." method="CoinCollected"]
[connection signal="CoinCollected" from="Coins/CoinHolder4/Coin" to="Hud/CoinHud" method="CoinCollected"]
[connection signal="CoinCollected" from="Coins/CoinHolder5/Coin" to="." method="CoinCollected"]
[connection signal="CoinCollected" from="Coins/CoinHolder5/Coin" to="Hud/CoinHud" method="CoinCollected"]
[connection signal="CoinCollected" from="Coins/CoinHolder6/Coin" to="." method="CoinCollected"]
[connection signal="CoinCollected" from="Coins/CoinHolder6/Coin" to="Hud/CoinHud" method="CoinCollected"]
[connection signal="CoinCollected" from="Coins/CoinHolder7/Coin" to="." method="CoinCollected"]
[connection signal="CoinCollected" from="Coins/CoinHolder7/Coin" to="Hud/CoinHud" method="CoinCollected"]
[connection signal="CoinCollected" from="Coins/CoinHolder8/Coin" to="." method="CoinCollected"]
[connection signal="CoinCollected" from="Coins/CoinHolder8/Coin" to="Hud/CoinHud" method="CoinCollected"]
[connection signal="CoinCollected" from="Coins/CoinHolder9/Coin" to="." method="CoinCollected"]
[connection signal="CoinCollected" from="Coins/CoinHolder9/Coin" to="Hud/CoinHud" method="CoinCollected"]
[connection signal="CoinCollected" from="Coins/CoinHolder10/Coin" to="." method="CoinCollected"]
[connection signal="CoinCollected" from="Coins/CoinHolder10/Coin" to="Hud/CoinHud" method="CoinCollected"]
[connection signal="YouLooseToRoot" from="Enemies/Enemy1" to="." method="YouLooseToRoot"]
